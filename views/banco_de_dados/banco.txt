
-- JOBTRUCKER PROJETO INTEGRADOR

CREATE DATABASE JOBTRUCKER

USE JOBTRUCKER

CREATE TABLE TIPO_USUARIO (
	SEQUENCIA INT(1) NOT NULL AUTO_INCREMENT,
	DESCRICAO VARCHAR(40) NOT NULL,
	PRIMARY KEY(SEQUENCIA)
)

CREATE TABLE USUARIO (
	SEQ_USUARIO INT(3) NOT NULL AUTO_INCREMENT,
	NOME VARCHAR(60) NOT NULL,
	EMAIL VARCHAR(50) NOT NULL,
	CPF VARCHAR(14) NOT NULL,
	SENHA VARCHAR(300) NOT NULL,
	DECRICAO VARCHAR(100),
	TIPO_USUARIO INT(1) NOT NULL,
	ATIVO VARCHAR(1) default 'S' not NULL,
	PRIMARY KEY (SEQ_USUARIO),
	FOREIGN KEY (TIPO_USUARIO) REFERENCES TIPO_USUARIO(SEQUENCIA)
)

CREATE TABLE ESTADO (
	SEQ_ESTADO INT(3) NOT NULL AUTO_INCREMENT,
	NOME VARCHAR(50) NOT NULL,
	SIGLA VARCHAR(5) NOT null,
	primary key(SEQ_ESTADO)
)

CREATE TABLE CIDADE (
	SEQ_CIDADE INT(3) NOT NULL AUTO_INCREMENT,
	NOME VARCHAR(50) NOT NULL,
	COD_ESTADO INT(3) NOT null,
	PRIMARY KEY (SEQ_CIDADE),
	FOREIGN KEY (COD_ESTADO) REFERENCES ESTADO(SEQ_ESTADO)
)

CREATE TABLE EMPRESA (
	SEQ_EMPRESA INT(3) NOT NULL AUTO_INCREMENT,
	NOME VARCHAR(60) NOT NULL,
	EMAIL VARCHAR(50) NOT NULL,
	CNPJ VARCHAR(18) NOT NULL,
	SENHA VARCHAR(300) NOT NULL,
	DESCRICAO VARCHAR(100),
	CEP VARCHAR(9),
	NUMERO INT(5),
	TIPO_USUARIO INT(1) NOT NULL,
	ATIVO VARCHAR(1) default 'S' not NULL,
	PRIMARY KEY(SEQ_EMPRESA),
	FOREIGN KEY (TIPO_USUARIO) REFERENCES TIPO_USUARIO(SEQUENCIA)
)

CREATE TABLE CADASTRAR_CARGA (
	SEQ_CARGA INT(5) NOT NULL AUTO_INCREMENT,
	NOME VARCHAR(50) NOT NULL,
	EMPRESA_CADASTROU INT(3) NOT NULL,
	EMPRESA_DESTINO INT(3) NOT NULL,
	DATA_REGISTRO DATETIME NOT null DEFAULT CURRENT_TIMESTAMP,
	DATA_ENTREGA DATETIME,
	DATA_SAIDA DATETIME,
	CONTEUDO_CARGA VARCHAR(60) NOT NULL,
	ESTADO_INICIAL INT(3) NOT NULL,
	CIDADE_INICIAL INT(3) NOT NULL,
	ESTADO_FINAL INT(3) NOT NULL,
	CIDADE_FINAL INT(3) NOT NULL,
	LARGURA INT(4) NOT NULL,
	ALTURA INT(4) NOT NULL,
	PRECO INT(10) NOT NULL,
	PESO INT(5) NOT NULL,
	DESCRICAO VARCHAR(300),
	CARGA_ACEITA VARCHAR(1) not null default 'N',
	PRIMARY KEY (SEQ_CARGA),
	FOREIGN KEY (EMPRESA_CADASTROU) REFERENCES EMPRESA(SEQ_EMPRESA),
	FOREIGN KEY (EMPRESA_DESTINO) REFERENCES EMPRESA(SEQ_EMPRESA),
	FOREIGN KEY (ESTADO_INICIAL) REFERENCES ESTADO(SEQ_ESTADO),
	FOREIGN KEY (CIDADE_INICIAL) REFERENCES CIDADE(SEQ_CIDADE),
	FOREIGN KEY (ESTADO_FINAL) REFERENCES ESTADO(SEQ_ESTADO),
	FOREIGN KEY (CIDADE_FINAL) REFERENCES CIDADE(SEQ_CIDADE)
)

create table CADASTRAR_CAMINHAO(
	SEQ_CAMINHAO INT(5) not null AUTO_INCREMENT,
	DONO_CAMINHAO INT(3) not null,
	PLACA_CAMINHAO VARCHAR(7) not null,
	PLACA_CARRETA VARCHAR(7),
	MODELO_CARRETA VARCHAR(50),
	MODELO_CAMINHAO VARCHAR(50) not NULL,
	DESCRICAO VARCHAR(300),
	PRIMARY KEY(SEQ_CAMINHAO),
	FOREIGN KEY (DONO_CAMINHAO) REFERENCES USUARIO(SEQ_USUARIO)
)

/* CREATE TABLE PEDIDO (
	SEQ_CARGA INT(5) NOT NULL AUTO_INCREMENT,
	SEQ_EMPRESA INT(3) NOT NULL,
	SEQ_USUARIO INT(3) NOT NULL
	
) */

-- INSERT TIPO_USUARIO
INSERT INTO jobtrucker.tipo_usuario(SEQUENCIA, DESCRICAO)
	VALUES(1, 'Caminhoneiro');

INSERT INTO jobtrucker.tipo_usuario(SEQUENCIA, DESCRICAO)
	VALUES(2, 'Empesa');


-- INSERT EMPRESA
INSERT INTO jobtrucker.empresa
(SEQ_EMPRESA, NOME, EMAIL, CNPJ, SENHA, DESCRICAO, CEP, NUMERO, TIPO_USUARIO, ATIVO)
VALUES(1, 'EMPRESA_TEST', 'test@gmail.com', '00000000000', '03ac674216f3e15c761ee1a5e255f067953623c8b388b4459e13f978d7c846f4', NULL, '17514883', 102, 2, 'S');


-- INSERT ESTADO 
INSERT INTO estado (NOME, SIGLA) VALUES
('São Paulo', 'SP'),
('Rio de Janeiro', 'RJ'),
('Minas Gerais', 'MG'),
('Bahia', 'BA'),
('Pernambuco', 'PE');

-- Inserção das cidades de São Paulo
INSERT INTO cidade (NOME, COD_ESTADO) VALUES
('São Paulo', 1),
('Campinas', 1),
('Santos', 1);

-- Inserção das cidades do Rio de Janeiro
INSERT INTO cidade (NOME, COD_ESTADO) VALUES
('Rio de Janeiro', 2),
('Niterói', 2),
('Nova Iguaçu', 2);

-- Inserção das cidades de Minas Gerais
INSERT INTO cidade (NOME, COD_ESTADO) VALUES
('Belo Horizonte', 3),
('Contagem', 3),
('Uberlândia', 3);

-- Inserção das cidades da Bahia
INSERT INTO cidade (NOME, COD_ESTADO) VALUES
('Salvador', 4),
('Feira de Santana', 4),
('Camaçari', 4);

-- Inserção das cidades de Pernambuco
INSERT INTO cidade (NOME, COD_ESTADO) VALUES
('Recife', 5),
('Olinda', 5),
('Caruaru', 5);

	